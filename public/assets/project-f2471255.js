import{D as n,O as p,r as c,G as d,X as u,l as v,Y as f}from"./index-d8e57e78.js";const y=()=>{const a=n(),{query:t}=p(a),i=f(),o=c({data:{},id:""}),s=c({values:{},get:e=>s.values[e],toggle:e=>{s.values[e]=!s.values[e]}}),r=d({input:"",find:()=>{t.value.search!=r.input&&(t.value.search=r.input,a.getAll())}}),l=u({addEdit:!1,confirm:!1,open:{create:()=>{l.toggle("addEdit"),o.data={}},update:(e,g)=>{o.data=v.pick(e,["_id","title","description"]),s.toggle(g),l.toggle("addEdit")},delete:(e,g)=>{o.id=e,s.toggle(g),l.toggle("confirm")}}});return{pagination:{next(e){e&&(t.value.pag=Number(t.value.pag)+1,a.getAll())},previe(e){e&&(t.value.pag=Number(t.value.pag)-1,a.getAll())},selectPag(e){e!=t.value.pag&&(t.value.pag=e,a.getAll())}},dropdown:s,ascDesc:e=>{t.value.sort!=`createdAt:${e}`&&(t.value.sort=`createdAt:${e}`,a.getAll())},getAll:()=>{t.value.pag>1&&(t.value.pag=1),a.getAll()},select:o,remove:()=>{a.remove(o.id,{actions:()=>l.toggle("confirm"),error:e=>{l.toggle("confirm"),i.active({msg:e.message})}}),o.id=""},search:r,modals:l,query:t}};export{y as p};
