import{f as V,D as b,E as w,G as f,H as D,c as g,h as k,i as B,w as T,p as o,y as n,j as s,l,t as x,v as y,x as E,J as z,M as A,z as F}from"./index-d8e57e78.js";const N={class:"add_edit"},O={class:"text-xl"},P={class:"content"},$=o("label",{for:"title"},"Title",-1),G={class:"input-error"},H={class:"mb-3"},J=o("label",{for:"description"},"Description",-1),R={class:"input-error"},I=V({__name:"ModalAddOrEdit",props:{updated:null,modal:{type:Boolean}},emits:["close"],setup(M,{emit:h}){const e=M,u=b(),j=w();let i=f({description:"",title:""});const{check:p,errors:r,setError:m,clear:U}=D({description:["empty","max:80"],title:["empty","min:3"]}),d=()=>{h("close"),i.clear(),U()},c=g(()=>(e!=null&&e.updated&&(i=f(e.updated)),e.modal)),C=()=>{if(p(l.omit(i,["clear"])).value){const t=l.omit(i,["clear"]);u.update(t,{actions:()=>d(),error:a=>m(a)})}},S=()=>{var t;p(l.omit(i,["clear"])).value&&u.create({...i,_autor:String((t=j.current)==null?void 0:t._id)},{actions:()=>d(),error:a=>m(a)})},_=F(r);return(v,t)=>(k(),B(s(A).Main,{modelValue:s(c),"onUpdate:modelValue":t[3]||(t[3]=a=>z(c)?c.value=a:null),onClose:t[4]||(t[4]=a=>d())},{default:T(()=>[o("div",N,[o("h1",O,n(s(l.isEmpty)(e==null?void 0:e.updated)?"New Project":"Update project"),1),o("div",P,[o("div",null,[$,x(o("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=a=>s(i).title=a),class:E(["input",s(_)("title")]),placeholder:"Title project"},null,2),[[y,s(i).title]]),o("p",G,n(s(r).title),1)]),o("div",H,[J,x(o("input",{id:"description","onUpdate:modelValue":t[1]||(t[1]=a=>s(i).description=a),class:E(["input",s(_)("description")]),placeholder:"Description general project"},null,2),[[y,s(i).description]]),o("p",R,n(s(r).description),1)]),o("button",{class:"btn-main",onClick:t[2]||(t[2]=a=>s(l.isEmpty)(e==null?void 0:e.updated)?S():C())},n(s(l.isEmpty)(e==null?void 0:e.updated)?"Create":"Update"),1)])])]),_:1},8,["modelValue"]))}});export{I as default};
